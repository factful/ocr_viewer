<main>
	<section id="image">
			<img src={image} alt=""/>
	</section>
	<section id="text">
		<nav>
			<div><input type="checkbox" bind:checked=showDiff /> View Diff</div>
			{#each pages as [name, original, diff] }
				<div class:active="activePage == name" on:click="selectApp(name)">{name}</div>
			{/each}
		</nav>
		<div id="pages">
			{#each pages as [name, original, diff] }
				<article class:active="activePage == name">
					{@html insertBreaks(showDiff ? diff : original) }
				</article>
			{:else}
				<article>No Pages</article>
			{/each}
			</div>
	</section>
</main>

<style>
	h1 {
		color: purple;
	}

	main {
		display: flex;
		flex-wrap: wrap;
	}

	main section#image {
		width: 50%;
		min-width: 500px;
	}

	#image img { 
		width: 94%;
		padding: 2%;
	}

	#text { 
		width: 50%;
		min-width: 500px;
	}

	nav {
		display: flex;
	}

	nav div {
		padding: 4px;
		border-left: 1px solid black;
		border-top: 1px solid black;
		border-bottom: 1px solid black;
	}

	nav div:last-child {
		border-right: 1px solid black;
	}

	nav div.active {
		background-color: #eee;
	}

	nav div input {
		vertical-align:middle;
		margin: 0px 0px 4px 0px;
	}

	#pages article {
		font-family: Courier, monospace;
		display: none;
	}

	#pages article.active {
		display: block;
	}
</style>

<script>
	export default {
		methods: {
			selectApp(appName) {
				console.log(`Selected ${appName}`);
				this.set({activePage: appName, url: appName});
			},
			selectPage(pageName) {

			}
		},
		helpers: {
			insertBreaks(text) {
				let lines = text.split("\n");
				let linesWithBreaks = lines.map((line) => `${line}<br/>`);
				return linesWithBreaks.join("\n");
			}
		}
	};
</script>